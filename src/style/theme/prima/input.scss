@mixin form-outlined {
  border: 1px solid var(--primary-color);

  &:focus {
    border-color: var(--focus-border-color);
    box-shadow: 0 0 0 3px var(--ring-color);
  }
}

@mixin form-elevated {
  border: none;
  box-shadow: 0 4px 6px -1px var(--shadow-color), 0 2px 4px -1px var(--shadow-color);

  &:focus {
    box-shadow: 0 0 0 3px var(--ring-color), 0 6px 8px -2px var(--shadow-color), 0 4px 6px -2px var(--shadow-color);
  }
}

@mixin form-tonal {
  background-color: color-mix(in oklab, var(--secondary-color) 12%, var(--background-color));
  border: 1px solid var(--border-color);

  &:focus {
    border-color: var(--focus-border-color);
    box-shadow: 0 0 0 3px var(--ring-color);
  }
}

@mixin form-filled {
  background-color: var(--surface-2, #121c32);
  border: 1px solid color-mix(in oklab, var(--border-color) 70%, transparent);
}

@mixin form-ghost {
  background-color: transparent;
  border: 1px solid color-mix(in oklab, var(--border-color) 35%, transparent);
}

@mixin form-invalid {
  border-color: var(--danger-500);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--danger-500) 35%, transparent);
}

@mixin form-valid {

}

@layer base {
  input, textarea, select {
    --focus-border-color: var(--primary-300);
    --text-color: #495057;
    --placeholder-color: #6c757d;
    --form-padding: 0.375rem 0.75rem;
    --form-border-radius: 0.25rem;
    --form-transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    --shadow-color: rgba(2, 6, 23, 0.6);
    --border-color: color-mix(in oklab, currentColor 20%, transparent);

    display: block;
    width: 100%;
    padding: var(--form-padding);
    font-size: 1rem;
    line-height: 1.5;
    color: var(--text-color);
    background-color: var(--background-color);
    background-clip: padding-box;
    border-radius: var(--form-border-radius);
    transition: var(--form-transition);

    &::placeholder {
      color: var(--placeholder-color);
      opacity: 0.8;
    }

    &:focus {
      outline: 0;
      box-shadow: 0 0 0 0.2rem var(--shadow-color);
    }
  }
}

@layer elements {
  input.outlined {
    @include form-outlined;
  }

  textarea.outlined {
    @include form-outlined;
  }

  select.outlined {
    @include form-outlined;
  }

  input.elevated {
    @include form-elevated;
  }

  textarea.elevated {
    @include form-elevated;
  }

  select.elevated {
    @include form-elevated;
  }

  input.tonal {
    @include form-tonal;
  }

  textarea.tonal {
    @include form-tonal;
  }

  select.tonal {
    @include form-tonal;
  }

  input[type="range"].vertical {
    writing-mode: vertical-rl;
    direction: rtl
  }

  input.filled, textarea.filled, select.filled {
    @include form-filled;
  }

  input.ghost, textarea.ghost, select.ghost {
    @include form-ghost;
  }

  input:invalid, textarea:invalid, select:invalid {
    @include form-invalid;
  }

  input:valid, textarea:valid, select:valid {
    @include form-valid;
  }
}
